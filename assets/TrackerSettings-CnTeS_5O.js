import{r,j as a,A as f,f as m,z as k,S as j,b as N,c as w,E as v}from"./index-DUlB-yge.js";import{u as y,S}from"./useToast-CthItfE0.js";import{P as D}from"./plus-CBh30F3c.js";const P=({onClose:l,onSave:u,editItem:s})=>{const{showToast:p}=y(),[i,n]=r.useState((s==null?void 0:s.title)||""),[o,x]=r.useState((s==null?void 0:s.targetDays)||21),[d,b]=r.useState((s==null?void 0:s.reminderTime)||""),[t,c]=r.useState((s==null?void 0:s.notificationEnabled)||!1),g=["Kriya Asans","Kundalini Pranayams","Kundalini Kriyas","Shabri Mantra Jap","Maala Techniques","Agnihotra","Reiki","Fasting","Dhauti","Neti","Naadi Setting","Tratak","Karnaved","Bandha Practice","Energising Eyes","5 Alertness","Surya Arghya"],h=()=>{if(!i)return;const e={id:s?s.id:Date.now().toString(),title:i,streak:s?s.streak:0,targetDays:o,completedDates:s?s.completedDates:[],reminderTime:d,notificationEnabled:t};v(e),p(s?"Discipline updated":"New Sadhana added"),u(),l(),t&&"Notification"in window&&Notification.permission!=="granted"&&Notification.requestPermission()};return a.jsxs("div",{className:"pb-36 min-h-screen bg-spiritual-50 dark:bg-spiritual-deep animate-fade-in flex flex-col",children:[a.jsxs("div",{className:"p-6 pt-8 pb-12 rounded-b-[3rem] shadow-soft relative z-10 flex flex-col gap-6 bg-gradient-to-br from-spiritual-50 via-white to-spiritual-gold/20 dark:from-spiritual-900 dark:via-spiritual-deep dark:to-spiritual-gold/10",children:[a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("button",{onClick:l,className:"p-3 bg-white dark:bg-white/10 rounded-full shadow-sm hover:scale-105 transition-transform text-spiritual-600 dark:text-spiritual-200","aria-label":"Back",children:a.jsx(f,{size:24})})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 rounded-2xl bg-spiritual-gold/20 dark:bg-spiritual-gold/10 text-spiritual-gold shadow-sm backdrop-blur-sm",children:s?a.jsx(m,{size:32,strokeWidth:1.5}):a.jsx(k,{size:32,strokeWidth:1.5})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-spiritual-900 dark:text-spiritual-50",children:s?"Edit Discipline":"New Sadhana"}),a.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 font-medium",children:"Commit to your spiritual growth"})]})]})]}),a.jsx("div",{className:"flex-1 p-6 max-w-2xl mx-auto w-full relative z-20 space-y-6",children:a.jsxs("div",{className:"bg-white dark:bg-spiritual-900/60 p-6 rounded-[2.5rem] shadow-soft border border-spiritual-100 dark:border-spiritual-700/50 backdrop-blur-sm space-y-6",children:[!s&&a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(j,{size:16,className:"text-spiritual-gold"}),a.jsx("p",{className:"text-xs font-bold text-spiritual-400 uppercase tracking-wider",children:"Popular Practices"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(e=>a.jsx("button",{onClick:()=>n(e),className:`px-3 py-2 rounded-xl text-xs font-bold transition-all border ${i===e?"bg-spiritual-800 text-white border-spiritual-800 shadow-md scale-105":"bg-spiritual-50 dark:bg-slate-800 text-spiritual-600 dark:text-spiritual-300 border-spiritual-100 dark:border-slate-700 hover:border-spiritual-300"}`,children:e},e))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1",children:"Practice Name"}),a.jsx("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"e.g., Morning Gratitude",className:"w-full p-4 rounded-2xl border border-spiritual-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-spiritual-300 bg-spiritual-50 dark:bg-slate-800/50 text-spiritual-900 dark:text-spiritual-100 text-lg font-medium placeholder:text-spiritual-300"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1",children:"Target Days"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"number",value:o,onChange:e=>x(Number(e.target.value)),className:"w-full p-4 rounded-2xl border border-spiritual-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-spiritual-300 bg-spiritual-50 dark:bg-slate-800/50 text-spiritual-900 dark:text-spiritual-100 text-lg font-medium"}),a.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-bold text-spiritual-400 pointer-events-none",children:"Days"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1",children:"Reminder"}),a.jsx("input",{type:"time",value:d,onChange:e=>{b(e.target.value),t||c(!0)},className:"w-full p-4 rounded-2xl border border-spiritual-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-spiritual-300 bg-spiritual-50 dark:bg-slate-800/50 text-spiritual-900 dark:text-spiritual-100 text-lg font-medium"})]})]}),a.jsxs("button",{onClick:()=>c(!t),className:`w-full p-4 rounded-2xl border transition-all flex items-center justify-between group ${t?"bg-spiritual-800 border-spiritual-800 shadow-md":"bg-spiritual-50 dark:bg-slate-800/50 border-spiritual-200 dark:border-slate-700"}`,children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`p-3 rounded-xl transition-colors ${t?"bg-white/20 text-white":"bg-white dark:bg-slate-700 text-spiritual-300 dark:text-slate-500"}`,children:t?a.jsx(N,{size:24}):a.jsx(w,{size:24})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:`text-lg font-bold transition-colors ${t?"text-white":"text-spiritual-900 dark:text-spiritual-100"}`,children:"Daily Alarm"}),a.jsx("p",{className:`text-sm transition-colors ${t?"text-white/70":"text-spiritual-500 dark:text-slate-400"}`,children:"Get notified when it's time"})]})]}),a.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${t?"border-white bg-white text-spiritual-800":"border-spiritual-300 dark:border-slate-500 text-transparent"}`,children:t&&a.jsx("div",{className:"w-3 h-3 bg-spiritual-800 rounded-full"})})]}),a.jsxs("button",{onClick:h,disabled:!i,className:"w-full py-5 mt-4 rounded-2xl bg-spiritual-800 dark:bg-spiritual-100 text-white dark:text-spiritual-900  text-xl font-bold shadow-lg hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-3 disabled:hover:scale-100",children:[s?a.jsx(S,{size:24}):a.jsx(D,{size:24}),s?"Update Discipline":"Start Practice"]})]})]})})]})};export{P as default};
