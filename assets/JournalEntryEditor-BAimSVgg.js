import{o as g,r,d as b,j as e,A,N as O,e as C,q as R,v as _,w as J,T as P,M as W,k as T,x as q,y as F}from"./index-Be9Ep6Sn.js";import{S as B}from"./save-Cup77hgl.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Z=g("frown",Y);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"8",x2:"16",y1:"15",y2:"15",key:"1xb1d9"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],H=g("meh",G);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Q=g("smile",K),X=({onClose:d,initialEntryId:a})=>{const z=()=>{const t=new Date;return new Date(t.getTime()-t.getTimezoneOffset()*6e4).toISOString().split("T")[0]},[o,f]=r.useState(z()),[c,h]=r.useState("Peaceful"),[k,y]=r.useState("neutral"),[x,j]=r.useState(!1),[u,v]=r.useState(""),[w,N]=r.useState(""),[D,M]=r.useState([]),[E,p]=r.useState(!1),[m,S]=r.useState(null),[i,n]=r.useState(null);r.useEffect(()=>{if(a){const s=b().find(l=>l.id===a);s&&(f(s.date.split("T")[0]),h(s.mood),y(s.reaction),j(s.madeSomeoneSmile),v(s.text),N(s.learning),M(s.tags))}},[a]),r.useEffect(()=>{if(a){const s=b().find(l=>l.date.split("T")[0]===o&&l.id!==a);S(s||null)}else{const s=b().find(l=>l.date.split("T")[0]===o);S(s||null)}},[o,a]);const $=()=>{if(!u.trim())return;const t=()=>{const s={id:a||Date.now().toString(),date:new Date(`${o}T00:00:00.000Z`).toISOString(),mood:c,tags:D,reaction:k,madeSomeoneSmile:x,text:u,learning:w,completedDisciplines:q().filter(l=>l.completedDates.includes(o)).map(l=>l.title)};F(s),d()};if(m){n({title:"Overwrite Entry?",message:`An entry for ${o} already exists. Do you want to replace it?`,confirmText:"Yes, Replace",onConfirm:()=>{T(m.id),t()}});return}t()},L=()=>{a&&n({title:"Delete Entry?",message:"This action cannot be undone and your entry will be lost forever.",confirmText:"Delete Forever",onConfirm:()=>{T(a),d()}})};return e.jsxs("div",{className:"pb-36 min-h-screen bg-spiritual-50 dark:bg-spiritual-deep animate-fade-in flex flex-col",children:[e.jsxs("div",{className:"p-6 pt-8 pb-12 shadow-soft relative z-10 flex flex-col gap-6 bg-gradient-to-br from-spiritual-50 via-white to-spiritual-gold/20 dark:from-spiritual-900 dark:via-spiritual-deep dark:to-spiritual-gold/10",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("button",{onClick:d,className:"p-3 bg-white dark:bg-white/10 rounded-full shadow-sm hover:scale-105 transition-transform text-spiritual-600 dark:text-spiritual-200","aria-label":"Back",children:e.jsx(A,{size:24})})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-2xl bg-spiritual-gold/20 dark:bg-spiritual-gold/10 text-spiritual-gold shadow-sm backdrop-blur-sm",children:e.jsx(O,{size:32,strokeWidth:1.5})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-spiritual-900 dark:text-spiritual-50",children:a?"Edit Entry":"New Entry"}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 font-medium",children:"Pour your heart out"})]})]})]}),e.jsx("div",{className:"flex-1 p-6 max-w-2xl mx-auto w-full relative z-20 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-spiritual-900/60 p-6 rounded-[2.5rem] shadow-soft border border-spiritual-100 dark:border-spiritual-700/50 backdrop-blur-sm space-y-6",children:[m&&e.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl flex items-start gap-3",children:[e.jsx(C,{className:"text-amber-500 shrink-0 mt-0.5",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-amber-800 dark:text-amber-200",children:"Entry Exists"}),e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-0.5",children:"Saving will overwrite the existing entry for this date."})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1",children:"Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"date",value:o,onChange:t=>f(t.target.value),className:"w-full p-4 rounded-2xl border border-spiritual-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-300 bg-spiritual-50 dark:bg-slate-800/50 text-spiritual-900 dark:text-spiritual-100 text-lg font-medium"}),e.jsx(R,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-spiritual-400 pointer-events-none",size:20})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1 mb-2",children:"Mood & Energy"}),e.jsxs("button",{onClick:()=>p(!0),className:"w-full p-4 rounded-2xl bg-spiritual-50 dark:bg-slate-800/50 border border-spiritual-200 dark:border-slate-700 flex items-center justify-between group hover:border-indigo-300 dark:hover:border-indigo-500 transition-all shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-indigo-100 dark:bg-indigo-900/30 rounded-full text-indigo-600 dark:text-indigo-400",children:e.jsx(_,{size:24})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"block text-xs font-bold text-spiritual-400 uppercase tracking-wider",children:"I am feeling"}),e.jsx("span",{className:"text-xl font-bold text-spiritual-900 dark:text-spiritual-100",children:c})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-spiritual-500 dark:text-spiritual-400 bg-white dark:bg-black/20 px-3 py-1.5 rounded-full group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/30 transition-colors",children:["Change ",e.jsx(J,{size:14})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1 mb-2",children:"My Reactions"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex bg-spiritual-50 dark:bg-slate-800/50 border border-spiritual-200 dark:border-slate-700 rounded-2xl p-1 w-full sm:w-auto flex-1",children:["good","neutral","bad"].map(t=>e.jsxs("button",{onClick:()=>y(t),className:`flex-1 py-3 px-4 rounded-xl flex items-center justify-center transition-all ${k===t?"bg-white dark:bg-slate-700 shadow-sm":"opacity-50 hover:opacity-80"}`,children:[t==="good"&&e.jsx(Q,{size:24,className:"text-green-500"}),t==="neutral"&&e.jsx(H,{size:24,className:"text-yellow-500"}),t==="bad"&&e.jsx(Z,{size:24,className:"text-red-500"})]},t))}),e.jsx("button",{onClick:()=>j(!x),className:`px-6 py-3 rounded-2xl font-bold text-sm transition-all border-2 flex-1 sm:flex-none ${x?"border-green-500 bg-green-50 text-green-700":"border-spiritual-200 dark:border-slate-700 text-spiritual-400 bg-spiritual-50 dark:bg-slate-800/50"}`,children:"Made Others Smile?"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1",children:"Reflection"}),e.jsx("textarea",{value:u,onChange:t=>v(t.target.value),placeholder:"Write your thoughts...",className:"w-full h-64 p-5 rounded-[2rem] bg-spiritual-50 dark:bg-slate-800/50 border border-spiritual-200 dark:border-slate-700 resize-none focus:outline-none focus:ring-2 focus:ring-indigo-300 text-lg leading-relaxed text-spiritual-900 dark:text-spiritual-100 placeholder:text-spiritual-300"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-xs font-bold text-spiritual-500 dark:text-spiritual-400 uppercase tracking-wider ml-1",children:"One Learning"}),e.jsx("input",{value:w,onChange:t=>N(t.target.value),placeholder:"What did you learn today?",className:"w-full p-4 rounded-2xl border border-spiritual-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-300 bg-spiritual-50 dark:bg-slate-800/50 text-spiritual-900 dark:text-spiritual-100 text-lg"})]}),e.jsxs("div",{className:"flex gap-4 pt-4",children:[a&&e.jsx("button",{onClick:L,className:"px-6 py-4 bg-red-50 dark:bg-red-900/20 text-red-500 rounded-2xl font-bold shadow-sm hover:bg-red-100 transition-all border border-transparent hover:border-red-200","aria-label":"Delete entry",children:e.jsx(P,{size:24})}),e.jsxs("button",{onClick:$,className:"flex-1 py-4 bg-spiritual-800 dark:bg-spiritual-100 text-white dark:text-spiritual-900 rounded-2xl font-bold text-lg shadow-xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3",children:[e.jsx(B,{size:24}),"Save Entry"]})]})]})}),E&&e.jsx(W,{initialMood:c,onSelect:t=>{h(t),p(!1)},onClose:()=>p(!1)}),i&&e.jsx("div",{className:"fixed inset-0 bg-spiritual-deep/80 backdrop-blur-md z-[70] flex items-center justify-center p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2.5rem] p-8 shadow-2xl border border-white/10",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 ${i.confirmText.toLowerCase().includes("delete")?"bg-red-50 dark:bg-red-900/20":"bg-amber-50 dark:bg-amber-900/20"} rounded-full flex items-center justify-center mx-auto mb-6`,children:e.jsx(C,{size:32,className:`${i.confirmText.toLowerCase().includes("delete")?"text-red-500":"text-amber-500"}`})}),e.jsx("h3",{className:"text-2xl font-bold text-spiritual-900 dark:text-spiritual-100 mb-2",children:i.title}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 mb-8",children:i.message})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{onClick:()=>{i.onConfirm(),n(null)},className:`w-full py-4 text-white rounded-2xl font-bold transition-colors ${i.confirmText.toLowerCase().includes("delete")?"bg-red-500 hover:bg-red-600":"bg-spiritual-800 hover:bg-spiritual-900"}`,children:i.confirmText}),e.jsx("button",{onClick:()=>n(null),className:"w-full py-3 text-spiritual-500 dark:text-spiritual-400 font-bold hover:bg-spiritual-100 dark:hover:bg-spiritual-800 rounded-2xl transition-colors",children:"Cancel"})]})]})})]})};export{X as default};
