import{h as $,a as D,u as T,g as O,j as e,V as i}from"./index-rmReRlAf.js";import{r as b}from"./vendor-DDTLr4RV.js";import{E as U}from"./EmptyState-DbK6_uT7.js";import{a1 as I,ad as P,an as F,av as H,a0 as L,P as j,k as y,v as Y,w as B,X as G,Z as V,y as W,W as Z,g as _}from"./utils-CRISSmvu.js";const Q=({type:l,onClose:N,onNavigate:h})=>{const{showToast:R}=$(),{preferences:d,updateRoutine:C}=D(),{library:c}=T(),[n,u]=b.useState([]),[m,x]=b.useState(!1),g={yoga:0,breathwork:1,meditation:2,mantra:3};b.useEffect(()=>{const t=l==="morning"?d.morningRoutine:d.eveningRoutine;t&&t.length>0?u(t):f()},[l,d.morningRoutine,d.eveningRoutine]);const f=()=>{const s=[...O()].sort((r,a)=>(g[r.type]||99)-(g[a.type]||99));u(s),x(!0)},z=t=>{u(s=>s.filter(r=>r.id!==t)),x(!0)},k=(t,s)=>{const r=[...n],a=t+s;if(a>=0&&a<r.length){const p=r[t];r[t]=r[a],r[a]=p,u(r),x(!0)}},A=()=>{C(l,n),x(!1),R(`${l==="morning"?"Morning":"Evening"} routine updated`)},E=t=>{switch(t){case"yoga":return e.jsx(_,{size:24});case"breathwork":return e.jsx(Z,{size:24});case"meditation":return e.jsx(W,{size:24});case"mantra":return e.jsx(V,{size:24});default:return e.jsx(y,{size:24})}},M=t=>{switch(t){case"yoga":return i.YOGA;case"breathwork":return i.BREATHWORK;case"meditation":return i.MEDITATION;case"mantra":return i.MANTRA;default:return i.DASHBOARD}},S=(t,s)=>{switch(s){case"yoga":return c.yoga.find(r=>r.id===t);case"breathwork":return c.breathwork.find(r=>r.id===t);case"meditation":return c.meditation.find(r=>r.id===t);case"mantra":return c.mantras.find(r=>r.id===t);default:return null}},o=l==="morning";return e.jsxs("div",{className:"fixed inset-0 z-50 bg-spiritual-50 dark:bg-spiritual-deep overflow-y-auto animate-fade-in flex flex-col",children:[e.jsxs("div",{className:`sticky top-0 z-50 pt-8 pb-4 px-6 rounded-b-[2rem] shadow-soft flex items-center justify-between backdrop-blur-md ${o?"bg-gradient-to-br from-orange-50 to-white dark:from-orange-900/20 dark:to-spiritual-deep":"bg-gradient-to-br from-indigo-50 to-white dark:from-indigo-900/20 dark:to-spiritual-deep"}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:N,className:"p-2.5 bg-white dark:bg-white/10 rounded-full shadow-sm hover:scale-105 transition-transform text-spiritual-600 dark:text-spiritual-200",children:e.jsx(I,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-spiritual-900 dark:text-spiritual-50",children:o?"Morning Mix":"Evening Mix"}),e.jsx("p",{className:"text-xs text-spiritual-600 dark:text-spiritual-400 font-bold uppercase tracking-wider",children:"Arrange Your Flow"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:f,className:"p-2.5 bg-white dark:bg-white/10 rounded-full shadow-sm text-spiritual-500 hover:text-spiritual-800 dark:text-spiritual-400 dark:hover:text-white transition-colors",title:"Reset to all favorites",children:e.jsx(P,{size:20})}),e.jsxs("button",{onClick:A,className:`px-4 py-2 rounded-full font-bold shadow-md transition-all flex items-center gap-2 text-sm ${m?"bg-spiritual-800 dark:bg-spiritual-100 text-white dark:text-spiritual-900 animate-pulse-slow":"bg-white/50 dark:bg-white/5 text-spiritual-400 cursor-default"}`,children:[e.jsx(F,{size:16})," ",m?"Save":"Saved"]})]})]}),e.jsxs("div",{className:"flex-1 p-6 max-w-2xl mx-auto w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{onClick:()=>h(o?i.SADHANA:i.JOURNAL,void 0,{isNested:!0}),className:`relative overflow-hidden p-5 rounded-[2rem] border-2 cursor-pointer transition-all hover:scale-[1.02] shadow-sm flex items-center justify-between group ${o?"bg-amber-50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30":"bg-blue-50 dark:bg-blue-900/10 border-blue-100 dark:border-blue-800/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${o?"bg-amber-100 text-amber-700":"bg-blue-200 text-blue-700"}`,children:o?e.jsx(H,{size:24}):e.jsx(L,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60 block mb-0.5",children:"Recommended"}),e.jsx("h3",{className:"text-lg font-bold text-spiritual-900 dark:text-spiritual-100",children:o?"SÄdhya : Track Your Goals":"Chintan : Reflect On Your Day"})]})]}),e.jsx("div",{className:"p-3 bg-white/50 dark:bg-white/10 rounded-full",children:e.jsx(j,{size:20,className:"ml-0.5 opacity-60",fill:"currentColor"})})]})}),e.jsx("hr",{className:"border-spiritual-100 dark:border-white/5 mb-6"}),n.length===0?e.jsx(U,{icon:e.jsx(y,{size:32}),message:"Your favorites appear here.",subMessage:"Go to the Swadhyaya library to add some!",actionLabel:"Go to Library",onAction:()=>h(i.PRACTICE_MENU)}):e.jsx("div",{className:"space-y-3",children:n.map((t,s)=>{var w,v;const r=S(t.id,t.type),a=((w=r==null?void 0:r.theme)==null?void 0:w.secondary)||"bg-gray-100 dark:bg-gray-800",p=((v=r==null?void 0:r.theme)==null?void 0:v.primary)||"text-gray-600 dark:text-gray-400";return e.jsxs("div",{className:"bg-white dark:bg-spiritual-900/60 p-3 rounded-[2rem] shadow-sm border border-spiritual-100 dark:border-spiritual-700/50 flex items-center gap-4 group transition-all",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 ${a} ${p}`,children:E(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-spiritual-400 dark:text-spiritual-500 bg-spiritual-50 dark:bg-white/5 px-2 py-0.5 rounded-md",children:t.type}),e.jsxs("span",{className:"text-[10px] font-bold text-spiritual-300 dark:text-spiritual-600",children:["#",s+1]})]}),e.jsx("h4",{className:"text-base font-bold text-spiritual-900 dark:text-spiritual-100 truncate",children:t.title})]}),e.jsx("button",{onClick:()=>h(M(t.type),t.id,{isNested:!0}),className:"w-10 h-10 rounded-xl bg-spiritual-100 dark:bg-spiritual-800 text-spiritual-600 dark:text-spiritual-300 flex items-center justify-center hover:bg-spiritual-800 hover:text-white dark:hover:bg-spiritual-100 dark:hover:text-spiritual-900 transition-colors shadow-sm flex-shrink-0","aria-label":`Play ${t.title}`,children:e.jsx(j,{size:18,fill:"currentColor"})}),e.jsxs("div",{className:"flex items-center gap-1 bg-spiritual-50 dark:bg-spiritual-800/50 p-1.5 rounded-xl border border-spiritual-100 dark:border-white/5 flex-shrink-0",children:[e.jsxs("div",{className:"flex flex-col gap-1 border-r border-spiritual-200 dark:border-white/10 pr-1 mr-1",children:[e.jsx("button",{onClick:()=>k(s,-1),disabled:s===0,className:"w-8 h-6 rounded-lg bg-white dark:bg-white/10 hover:bg-spiritual-100 dark:hover:bg-white/20 text-spiritual-500 dark:text-spiritual-300 flex items-center justify-center transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move Up",children:e.jsx(Y,{size:16})}),e.jsx("button",{onClick:()=>k(s,1),disabled:s===n.length-1,className:"w-8 h-6 rounded-lg bg-white dark:bg-white/10 hover:bg-spiritual-100 dark:hover:bg-white/20 text-spiritual-500 dark:text-spiritual-300 flex items-center justify-center transition-colors disabled:opacity-30 disabled:cursor-not-allowed","aria-label":"Move Down",children:e.jsx(B,{size:16})})]}),e.jsx("button",{onClick:()=>z(t.id),className:"w-8 h-12 rounded-lg bg-transparent hover:bg-red-50 dark:hover:bg-red-900/20 text-spiritual-300 hover:text-red-400 flex items-center justify-center transition-colors","aria-label":"Remove from mix",children:e.jsx(G,{size:18})})]})]},`${t.id}-${s}`)})})]})]})};export{Q as default};
