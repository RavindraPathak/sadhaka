import{g as T,E as R,j as e,V as r,B as M}from"./index-rmReRlAf.js";import{r as d}from"./vendor-DDTLr4RV.js";import{B as S,at as g,g as f,A as c,W as b,y as v,Z as j,k as H,P as C}from"./utils-CRISSmvu.js";const B=({onNavigate:o})=>{const[k,w]=d.useState([]),[p,y]=d.useState([]),[u,h]=d.useState(!1);d.useEffect(()=>{w(T())},[]),d.useEffect(()=>{if(u){const t=R(),s=[],l=new Set;for(let i=t.length-1;i>=0;i--){const a=t[i],n=`${a.type}-${a.title}`;if(l.has(n)||(l.add(n),s.push(a)),s.length>=5)break}y(s)}},[u]);const N=t=>{let s=r.DASHBOARD;switch(t.type){case"breathwork":s=r.BREATHWORK;break;case"meditation":s=r.MEDITATION;break;case"yoga":s=r.YOGA;break;case"mantra":s=r.MANTRA;break}o(s,void 0,{isNested:!0}),h(!1)},x=(t,s)=>{const l=k.filter(i=>i.type===t);return l.length>0?e.jsx("div",{className:"flex flex-wrap gap-3 mt-4 pt-4 border-t border-spiritual-100/50 dark:border-white/5 relative z-20",children:l.map(i=>e.jsxs("button",{onClick:a=>{a.stopPropagation(),o(s,i.id,{isNested:!0})},className:"text-xs font-bold px-3 py-2.5 rounded-xl bg-white/60 dark:bg-black/20 border border-spiritual-100 dark:border-white/10 flex items-center gap-2 hover:bg-white dark:hover:bg-white/10 transition-colors shadow-sm text-spiritual-600 dark:text-spiritual-300 min-h-[44px] active:scale-95",children:[e.jsx(H,{size:14,className:"text-red-400 fill-red-400"})," ",i.title]},i.id))}):null},z=t=>{switch(t){case"yoga":return e.jsx(f,{size:20});case"breathwork":return e.jsx(b,{size:20});case"meditation":return e.jsx(v,{size:20});case"mantra":return e.jsx(j,{size:20});default:return e.jsx(C,{size:20})}},A=t=>{const s=new Date(t),i=new Date().getTime()-s.getTime(),a=Math.round(i/6e4),n=Math.round(a/60),m=Math.round(n/24);return a<60?`${a}m ago`:n<24?`${n}h ago`:m===1?"Yesterday":`${m}d ago`};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-[100dvh] bg-spiritual-50 dark:bg-spiritual-deep animate-fade-in flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex-none pt-8 pb-4 px-6 rounded-b-[2rem] shadow-soft flex items-center justify-between bg-gradient-to-br from-spiritual-50 via-white to-spiritual-gold/20 dark:from-spiritual-900 dark:via-spiritual-deep dark:to-spiritual-gold/10 z-20",children:[e.jsxs("div",{className:"flex items-center gap-4 animate-slide-in-bottom",children:[e.jsx("div",{className:"p-3 bg-spiritual-gold/10 rounded-full text-spiritual-600 dark:text-spiritual-400",children:e.jsx(S,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-spiritual-900 dark:text-spiritual-50",children:"Svādhyāya"}),e.jsx("p",{className:"text-xs text-spiritual-600 dark:text-spiritual-400 font-bold uppercase tracking-wider",children:"Self-study & Practice"})]})]}),e.jsx("button",{onClick:()=>h(!0),className:"p-3 rounded-full bg-white dark:bg-white/10 text-spiritual-600 dark:text-spiritual-300 hover:bg-white/80 dark:hover:bg-white/20 transition-all shadow-sm backdrop-blur-sm","aria-label":"History",children:e.jsx(g,{size:24})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-hide p-6 pb-36 space-y-4",children:[e.jsxs("div",{onClick:()=>o(r.YOGA,void 0,{isNested:!0}),className:"relative overflow-hidden bg-white dark:bg-spiritual-900/60 rounded-[2.5rem] p-6 shadow-soft border border-spiritual-100 dark:border-spiritual-700/50 cursor-pointer group transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-orange-50/50 to-transparent dark:from-orange-900/10"}),e.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform duration-300",children:e.jsx(f,{size:24,strokeWidth:1.5})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-spiritual-900 dark:text-spiritual-100 leading-tight",children:"Yoga Asana"}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 text-sm font-medium mt-1",children:"Gentle flows to align body & mind"})]}),e.jsx("div",{className:"w-9 h-9 rounded-full bg-spiritual-50 dark:bg-spiritual-800 flex items-center justify-center text-spiritual-300 dark:text-spiritual-600 group-hover:bg-orange-500 group-hover:text-white transition-colors duration-300",children:e.jsx(c,{size:20})})]}),x("yoga",r.YOGA)]})]})]}),e.jsxs("div",{onClick:()=>o(r.BREATHWORK,void 0,{isNested:!0}),className:"relative overflow-hidden bg-white dark:bg-spiritual-900/60 rounded-[2.5rem] p-6 shadow-soft border border-spiritual-100 dark:border-spiritual-700/50 cursor-pointer group transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-sky-50/50 to-transparent dark:from-sky-900/10"}),e.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform duration-300",children:e.jsx(b,{size:24,strokeWidth:1.5})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-spiritual-900 dark:text-spiritual-100 leading-tight",children:"Pranayama"}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 text-sm font-medium mt-1",children:"Breathwork for vitality & balance"})]}),e.jsx("div",{className:"w-9 h-9 rounded-full bg-spiritual-50 dark:bg-spiritual-800 flex items-center justify-center text-spiritual-300 dark:text-spiritual-600 group-hover:bg-sky-500 group-hover:text-white transition-colors duration-300",children:e.jsx(c,{size:20})})]}),x("breathwork",r.BREATHWORK)]})]})]}),e.jsxs("div",{onClick:()=>o(r.MEDITATION,void 0,{isNested:!0}),className:"relative overflow-hidden bg-white dark:bg-spiritual-900/60 rounded-[2.5rem] p-6 shadow-soft border border-spiritual-100 dark:border-spiritual-700/50 cursor-pointer group transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-indigo-50/50 to-transparent dark:from-indigo-900/10"}),e.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform duration-300",children:e.jsx(v,{size:24,strokeWidth:1.5})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-spiritual-900 dark:text-spiritual-100 leading-tight",children:"Dhyana Dharana"}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 text-sm font-medium mt-1",children:"Meditation for mindfulness & inner stillness"})]}),e.jsx("div",{className:"w-9 h-9 rounded-full bg-spiritual-50 dark:bg-spiritual-800 flex items-center justify-center text-spiritual-300 dark:text-spiritual-600 group-hover:bg-indigo-500 group-hover:text-white transition-colors duration-300",children:e.jsx(c,{size:20})})]}),x("meditation",r.MEDITATION)]})]})]}),e.jsxs("div",{onClick:()=>o(r.MANTRA,void 0,{isNested:!0}),className:"relative overflow-hidden bg-white dark:bg-spiritual-900/60 rounded-[2.5rem] p-6 shadow-soft border border-spiritual-100 dark:border-spiritual-700/50 cursor-pointer group transition-all duration-300 hover:-translate-y-1 hover:shadow-lg",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 bg-gradient-to-r from-amber-50/50 to-transparent dark:from-amber-900/10"}),e.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400 flex items-center justify-center flex-shrink-0 shadow-sm group-hover:scale-105 transition-transform duration-300",children:e.jsx(j,{size:24,strokeWidth:1.5})}),e.jsxs("div",{className:"flex-1 min-w-0 pt-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-spiritual-900 dark:text-spiritual-100 leading-tight",children:"Mantra Japa"}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 text-sm font-medium mt-1",children:"Chanting to awaken energy"})]}),e.jsx("div",{className:"w-9 h-9 rounded-full bg-spiritual-50 dark:bg-spiritual-800 flex items-center justify-center text-spiritual-300 dark:text-spiritual-600 group-hover:bg-amber-500 group-hover:text-white transition-colors duration-300",children:e.jsx(c,{size:20})})]}),x("mantra",r.MANTRA)]})]})]})]})]}),u&&e.jsx(M,{onClose:()=>h(!1),title:"Recently Practiced",subtitle:"Your journey so far",icon:e.jsx(g,{size:24}),children:p.length===0?e.jsx("div",{className:"text-center py-8 opacity-60",children:e.jsx("p",{className:"text-white/60",children:"No recent sessions found."})}):e.jsx("div",{className:"space-y-3",children:p.map((t,s)=>e.jsxs("div",{onClick:()=>N(t),className:"flex items-center gap-4 p-4 bg-white/5 rounded-2xl border border-white/5 hover:bg-white/10 transition-colors cursor-pointer group",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-full text-white/80 group-hover:text-white transition-colors",children:z(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-0.5",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-white/40",children:t.type}),e.jsxs("span",{className:"text-xs text-white/30",children:["• ",A(t.date)]})]}),e.jsx("h4",{className:"text-base font-bold text-white/90 truncate",children:t.title})]}),e.jsx("div",{className:"p-3 text-white/30 group-hover:text-white transition-colors",children:e.jsx(c,{size:20})})]},s))})})]})};export{B as default};
