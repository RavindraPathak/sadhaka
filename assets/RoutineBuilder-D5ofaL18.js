import{o as C,a as S,u as E,r as f,g as M,j as e,A as T,Y as $,a5 as I,a6 as D,Q as H,P as w,i as o,H as y,X as L,Z as O,a2 as P,W as U,K as B}from"./index-NUszf3Aq.js";import{u as F,S as Y}from"./useToast-DHRsgX62.js";import{E as _}from"./EmptyState-DDeqKuFx.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],W=C("user-check",G),q=(n,l)=>{var x,d,b,c;const u={surface:"bg-gray-100 dark:bg-gray-800",icon:"text-gray-600 dark:text-gray-400"};if(!l)switch(n){case"yoga":return{surface:"bg-orange-100 dark:bg-orange-900/30",icon:"text-orange-600 dark:text-orange-400"};case"breathwork":return{surface:"bg-sky-100 dark:bg-sky-900/30",icon:"text-sky-600 dark:text-sky-400"};case"meditation":return{surface:"bg-indigo-100 dark:bg-indigo-900/30",icon:"text-indigo-600 dark:text-indigo-400"};case"mantra":return{surface:"bg-amber-100 dark:bg-amber-900/30",icon:"text-amber-600 dark:text-amber-400"};default:return u}switch(n){case"breathwork":{const s=l;return{surface:((x=s.theme)==null?void 0:x.iconBg)||"bg-sky-100 dark:bg-sky-900/30",icon:((d=s.theme)==null?void 0:d.iconColor)||"text-sky-600 dark:text-sky-400"}}case"yoga":return{surface:((b=l.colorTheme)==null?void 0:b.card)||"bg-orange-100 dark:bg-orange-900/30",icon:"text-orange-600 dark:text-orange-400"};case"mantra":return{surface:((c=l.theme)==null?void 0:c.surface)||"bg-amber-100 dark:bg-amber-900/30",icon:"text-amber-600 dark:text-amber-400"};case"meditation":{const s=l;return s.theme?{surface:s.theme.surface,icon:s.theme.accent}:{surface:"bg-indigo-100 dark:bg-indigo-900/30",icon:"text-indigo-600 dark:text-indigo-400"}}default:return u}},Q=({type:n,onClose:l,onNavigate:u})=>{const{showToast:x}=F(),{preferences:d,updateRoutine:b}=S(),{library:c}=E(),[s,g]=f.useState([]),[p,h]=f.useState(!1),k={yoga:0,breathwork:1,meditation:2,mantra:3};f.useEffect(()=>{const r=n==="morning"?d.morningRoutine:d.eveningRoutine;r&&r.length>0?g(r):v()},[n,d.morningRoutine,d.eveningRoutine]);const v=()=>{const t=[...M()].sort((a,m)=>(k[a.type]||99)-(k[m.type]||99));g(t),h(!0)},N=r=>{g(t=>t.filter(a=>a.id!==r)),h(!0)},R=()=>{b(n,s),h(!1),x(`${n==="morning"?"Morning":"Evening"} mix saved`)},j=r=>{let t=o.DASHBOARD;switch(r.type){case"breathwork":t=o.BREATHWORK;break;case"meditation":t=o.MEDITATION;break;case"yoga":t=o.YOGA;break;case"mantra":t=o.MANTRA;break}u(t,r.id,{isNested:!0})},z=r=>{switch(r){case"yoga":return e.jsx(B,{size:20});case"breathwork":return e.jsx(U,{size:20});case"meditation":return e.jsx(P,{size:20});case"mantra":return e.jsx(O,{size:20});default:return e.jsx(y,{size:20})}},A=(r,t)=>{switch(t){case"yoga":return c.yoga.find(a=>a.id===r);case"breathwork":return c.breathwork.find(a=>a.id===r);case"meditation":return c.meditation.find(a=>a.id===r);case"mantra":return c.mantras.find(a=>a.id===r);default:return null}},i=n==="morning";return e.jsxs("div",{className:"fixed inset-0 z-50 bg-spiritual-50 dark:bg-spiritual-deep overflow-y-auto animate-fade-in flex flex-col",children:[e.jsxs("div",{className:`p-6 pt-8 pb-12 rounded-b-[3rem] shadow-soft relative z-10 flex flex-col gap-6 ${i?"bg-gradient-to-br from-orange-50 to-white dark:from-orange-900/20 dark:to-spiritual-deep":"bg-gradient-to-br from-indigo-50 to-white dark:from-indigo-900/20 dark:to-spiritual-deep"}`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("button",{onClick:l,className:"p-3 bg-white dark:bg-white/10 rounded-full shadow-sm hover:scale-105 transition-transform text-spiritual-600 dark:text-spiritual-200",children:e.jsx(T,{size:24})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:v,className:"p-3 bg-white dark:bg-white/10 rounded-full shadow-sm text-spiritual-500 hover:text-spiritual-800 dark:text-spiritual-400 dark:hover:text-white transition-colors",title:"Reset to all favorites",children:e.jsx($,{size:20})}),e.jsxs("button",{onClick:R,className:`px-6 py-3 rounded-full font-bold shadow-md transition-all flex items-center gap-2 ${p?"bg-spiritual-800 dark:bg-spiritual-100 text-white dark:text-spiritual-900 animate-pulse-slow":"bg-white/50 dark:bg-white/5 text-spiritual-400 cursor-default"}`,children:[e.jsx(Y,{size:18})," ",p?"Save Mix":"Saved"]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`p-3 rounded-2xl ${i?"bg-orange-100 text-orange-500":"bg-indigo-100 text-indigo-500"}`,children:i?e.jsx(I,{size:32}):e.jsx(D,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-spiritual-900 dark:text-spiritual-50",children:i?"Morning Mix":"Evening Mix"}),e.jsx("p",{className:"text-spiritual-500 dark:text-spiritual-400 font-medium",children:"Your personal flow"})]})]})})]}),e.jsxs("div",{className:"flex-1 p-6 max-w-2xl mx-auto w-full",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{onClick:()=>u(i?o.SADHANA:o.JOURNAL,void 0,{isNested:!0}),className:`relative overflow-hidden p-5 rounded-[2rem] border-2 cursor-pointer transition-all hover:scale-[1.02] shadow-sm flex items-center justify-between group ${i?"bg-amber-50 dark:bg-amber-900/10 border-amber-100 dark:border-amber-800/30":"bg-blue-50 dark:bg-blue-900/10 border-blue-100 dark:border-blue-800/30"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${i?"bg-amber-100 text-amber-700":"bg-blue-200 text-blue-700"}`,children:i?e.jsx(W,{size:24}):e.jsx(H,{size:24})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-60 block mb-0.5",children:"Recommended"}),e.jsx("h3",{className:"text-lg font-bold text-spiritual-900 dark:text-spiritual-100",children:i?"Daily Sadhana":"Daily Reflection"})]})]}),e.jsx("div",{className:"p-2 bg-white/50 dark:bg-white/10 rounded-full",children:e.jsx(w,{size:20,className:"ml-0.5 opacity-60",fill:"currentColor"})})]})}),e.jsx("hr",{className:"border-spiritual-100 dark:border-white/5 mb-6"}),s.length===0?e.jsx(_,{icon:e.jsx(y,{size:32}),message:"Your favorites appear here.",subMessage:"Go to the Swadhyaya library to add some!",actionLabel:"Go to Library",onAction:()=>u(o.PRACTICE_MENU)}):e.jsx("div",{className:"space-y-3",children:s.map((r,t)=>{const a=A(r.id,r.type),m=q(r.type,a);return e.jsxs("div",{className:"bg-white dark:bg-spiritual-900/60 p-4 rounded-[2rem] shadow-sm border border-spiritual-100 dark:border-spiritual-700/50 flex items-center gap-4 group transition-all hover:shadow-md",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center flex-shrink-0 ${m.surface} ${m.icon}`,children:z(r.type)}),e.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>j(r),children:[e.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-spiritual-400 dark:text-spiritual-500",children:r.type}),e.jsx("h4",{className:"text-base font-bold text-spiritual-900 dark:text-spiritual-100 truncate",children:r.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>j(r),className:"w-10 h-10 rounded-full bg-spiritual-50 dark:bg-spiritual-800 text-spiritual-400 hover:bg-spiritual-800 hover:text-white dark:hover:bg-spiritual-100 dark:hover:text-spiritual-900 flex items-center justify-center transition-colors",children:e.jsx(w,{size:16,fill:"currentColor",className:"ml-0.5"})}),e.jsx("button",{onClick:()=>N(r.id),className:"w-10 h-10 rounded-full bg-transparent hover:bg-red-50 dark:hover:bg-red-900/20 text-spiritual-300 hover:text-red-400 flex items-center justify-center transition-colors","aria-label":"Remove from mix",children:e.jsx(L,{size:18})})]})]},`${r.id}-${t}`)})})]})]})};export{Q as default};
